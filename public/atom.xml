<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Scott Sievert]]></title>
  <link href="http://scottsievert.github.io/atom.xml" rel="self"/>
  <link href="http://scottsievert.github.io/"/>
  <updated>2014-05-15T11:31:04-05:00</updated>
  <id>http://scottsievert.github.io/</id>
  <author>
    <name><![CDATA[Scott Sievert]]></name>
    <email><![CDATA[sieve121@umn.edu]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Scienfitic Python: Tips and Tricks]]></title>
    <link href="http://scottsievert.github.io/blog/2014/05/14/scienfitic-python-tips-and-tricks/"/>
    <updated>2014-05-14T20:20:24-05:00</updated>
    <id>http://scottsievert.github.io/blog/2014/05/14/scienfitic-python-tips-and-tricks</id>
    <content type="html"><![CDATA[<p>You want to switch from MATLAB to Python. You look into it a bit, but it’s hard
and confusing to pick up a whole new framework. You want to try and switch, but
it’s too much effort and takes too much time, so you stick with MATLAB. </p>

<p>This guide aims to ease that process a bit by showing tips and tricks within
Python. This guide <em>is not</em> a full switch-to-Python guide. There are plenty of
resources for that, including <a href="https://github.com/jrjohansson/scientific-python-lectures">some wonderful SciPy lectures</a>,
<a href="http://scipy-lectures.github.io">detailed guides</a> to the same material, and <a href="http://wiki.scipy.org/NumPy_for_Matlab_Users">Python for
MATLAB users</a>.  Those links are all useful, and <strong>those links
should be looked at.</strong></p>

<p>For an intro to Python, including types, the scope, functions and optional
keywords and syntax (string addition, etc), look at <a href="https://docs.python.org/2/tutorial/introduction.html">the Python docs</a>.</p>

<p>But, that said, I’ll share my most valuable tips and tricks I learned from
looking at the resources above. These do not serve as a complete replacement
those resources! I want to emphasize that.</p>

<h3 id="installation">Installation</h3>
<p>I recommend you install <a href="http://docs.continuum.io/anaconda/">Anaconda</a>. Essentially, all this amounts to
is running <code>bash &lt;downloaded file&gt;</code>, but complete instructions can be found on
<a href="https://store.continuum.io/cshop/anaconda/">Anaconda’s website</a>.</p>

<h3 id="interpreters">Interpreters</h3>
<p>The land of Python has many interpreters, aligning with the <a href="https://en.wikipedia.org/wiki/Unix_philosophy">Unix philosophy</a>.
But at first, it can seem confusing: you’re presented with the default python
shell, <a href="http://bpython-interpreter.org/">bpython</a>, IPython’s shell, <a href="http://ipython.org/notebook.html">notebook</a> and <a href="http://ipython.org/ipython-doc/stable/interactive/qtconsole.html">QtConsole</a>.</p>

<p>I most recommend IPython; they seem to be more connected with scientific
computing. But which one of IPython’s shells should you use? They all have
their pros and cons, but the QtConsole wins for plain interpreters.
<a href="https://code.google.com/p/spyderlib/">Spyder</a> is an alternative (and IDE, meaning I haven’t used it much)
out there that tries to present a MATLAB-like GUI. I do know <a href="http://pythonhosted.org/spyder/ipythonconsole.html">it’s possible to
have IPython’s QtConsole in Spyder</a>.</p>

<h5 id="qtconsole">QtConsole</h5>
<p>This is what I most highly recommend. It allows you to see plots inline. Let me
repeat that: <em>you can plot inline</em>. To see what I mean, here’s an example:</p>

<p><img class="right" src="http://ipython.org/ipython-doc/stable/_images/qtconsole.png" width="350" /></p>

<p>I’ve only found one area where it’s lacking. The issue is so small, I won’t
mention it.</p>

<h5 id="notebook">Notebook</h5>
<p>Great for <em>sharing</em> results. Provides an interface friendly to reading code,
$\LaTeX$, markdown and images side-by-side. However, it’s not so great to
develop code in.</p>

<h4 id="ipython-magic">IPython magic</h4>
<p>Normally in Python, you have to run <code>attach(filename)</code> to run an object. If you
use IPython, you have access to <code>%run</code>. I’ve found it most useful for
inspecting global variables after the script has run. IPython even has other
useful tools including <code>%debug</code> (debug <em>after</em> error occured acting like it
<em>just</em> occured),
<code>!&lt;shell-command&gt;</code> and <code>function?</code>/<code>function??</code> for help on a function.</p>

<h4 id="my-personal-setup">My personal setup</h4>
<p>I typically have MacVim and IPython’s QtConsole (using 
<a href="http://apple.stackexchange.com/questions/84348/how-can-i-create-a-stand-alone-app-to-run-a-terminal-command">a special applescript</a> 
to open; saves opening up iTerm.app) visible and open
with an external monitor to look at documentation. A typical script look like</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span>
</span><span class="line"><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
</span><span class="line">
</span><span class="line"><span class="n">N</span> <span class="o">=</span> <span class="mi">1024</span>
</span><span class="line"><span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="n">N</span><span class="p">)</span> <span class="c"># make vector from -1 to 1 with N components</span>
</span><span class="line"><span class="n">y</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
</span><span class="line"><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span class="line"><span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="nb">pow</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c"># ** and pow(y, 2) are equivalent</span>
</span><span class="line">
</span><span class="line"><span class="n">figure</span><span class="p">()</span>
</span><span class="line"><span class="n">imshow</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s">&#39;nearest&#39;</span><span class="p">)</span> <span class="c"># interpolation for no fuzziness</span>
</span><span class="line"><span class="n">colorbar</span><span class="p">()</span>
</span><span class="line"><span class="n">savefig</span><span class="p">(</span><span class="s">&#39;z.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</span><span class="line"><span class="n">show</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>I can then run this script in IPython’s QtConsole with <code>%run script.py</code> (using
a handy <a href="http://www.keyboardmaestro.com/main/">Keyboard Maestro</a> shortcut to switch windows and
enter %run) and then can query the program, meaning I can type <code>z</code> in the
QtConsole and see what <code>z</code> is or even <code>plot(z[0,:])</code>. This is a simple script,
but this functionality is priceless in larger and more complicated scripts.</p>

<h3 id="pylab">pylab</h3>
<p><a href="http://wiki.scipy.org/PyLab">Pylab’s</a> goal is to bring a MATLAB-like interface to Python. They
largely succeed. With pylab, Python can <em>almost</em> serve as a drop-in replacement
for MATLAB. You call <code>x = ones(N)</code> in MATLAB; you can do the same with pylab.</p>

<p>One area where it isn’t a drop-in replacement is with division. In Python 2,
<code>1/2 == 0</code> through integer division and in MATLAB (and the way it should be),
<code>1/2 == 0.5</code>. In Python, if <code>int/int--&gt;int</code> is wanted, you can use <code>1//2</code>
instead.</p>

<p>To present a nearly drop-in MATLAB interface, use the following code</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span>
</span><span class="line"><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>This <code>from pylab import *</code> is frowned upon. The <a href="http://legacy.python.org/dev/peps/pep-0020/">Zen of Python</a> says</p>

<blockquote>
  <p>Namespaces are a honking great idea – let’s use more of those!</p>
</blockquote>

<p>meaning that <code>from package import *</code> shouldn’t be used <em>with any package.</em> It’s
best to use <code>from pylab import ones, zeros, arange</code> but that’s long and harder
for development. I use <code>from pylab import *</code>; I’m guesing you’ll do the same.
If I’m wondering if a function exists, I try calling it and see what happens;
oftentimes, I’m surprised.</p>

<h3 id="parallelism">Parallelism</h3>
<p>Parallelism is a big deal to the scientific community: the code we have takes
hours to run and we want to speed it up. Since for-loops can be sped up a ton
by parallelism if each iteration is independent, there are plenty of
parallelization tools out there to parallelize code, including 
<a href="http://ipython.org/ipython-doc/dev/parallel/index.html">IPython’s paralleziation toolbox</a>.</p>

<p>But, this is still slightly confusing and seems like a pain to execute. I
recently stumbled across on 
<a href="https://medium.com/building-things-on-the-internet/40e9b2b36148">a method to parallelize a function in one line</a>. Basically,
all you do is the following:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="c"># serial</span>
</span><span class="line"><span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class="line"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
</span><span class="line">    <span class="n">x</span> <span class="o">+=</span> <span class="p">[</span><span class="n">function</span><span class="p">()]</span>
</span><span class="line">
</span><span class="line"><span class="c"># parallel</span>
</span><span class="line"><span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Pool</span>
</span><span class="line"><span class="n">x</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> <span class="c"># normally `for i in arange(10): function()`</span>
</span><span class="line"><span class="n">pool</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span class="line"><span class="n">pool</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><a href="https://medium.com/building-things-on-the-internet/40e9b2b36148">The link above</a> goes into more detail; I’ll omit most of it.
IPython’s parallelization toolkit <a href="http://ipython.org/ipython-doc/dev/parallel/asyncresult.html#map-results-are-iterable">also includes a <code>map()</code> interface.</a></p>

<h3 id="sympy-latex-printing">SymPy (+LaTeX printing!)</h3>
<p><a href="http://sympy.org/en/index.html">SymPy</a> serves as a replacement for Mathematica (or at least it’s a
close race). With SymPy, you have access to symbolic variables and can perform
almost any function on them: differentiation, integration, etc. They support
matrices of these symbolic variables and functions on them; it seems like a
complete library.</p>

<p>Perhaps most attractive, <a href="http://docs.sympy.org/latest/tutorial/printing.html">you can even pretty print LaTeX or ASCII</a>.</p>

<p><img class="left" src="http://docs.sympy.org/latest/_images/ipythonqtconsole.png" width="400" /></p>

<p>I haven’t used this library much, but I’m sure there are good tutorials out
there.</p>

<h3 id="indexing">Indexing</h3>
<p>When indexing a two-dimensional numpy array, you often use something like
<code>array[y, x]</code> (reversed for good reason!). The first index <code>y</code> selects the
<em>row</em> while the second selects the <em>column.</em></p>

<p>For example,</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="n">x</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="c"># make 4x4 matrix</span>
</span><span class="line"><span class="k">print</span> <span class="n">x</span>
</span><span class="line"> <span class="c">#  [[ 0  1  2  3]</span>
</span><span class="line"> <span class="c">#   [ 4  5  6  7]</span>
</span><span class="line"> <span class="c">#   [ 8  9 10 11]</span>
</span><span class="line"> <span class="c">#   [12 13 14 15]]</span>
</span><span class="line">
</span><span class="line"><span class="k">print</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">,:]</span> <span class="c"># selects 2nd row (0-based indexing) and every column</span>
</span><span class="line"> <span class="c"># [4, 5, 6, 7]</span>
</span><span class="line">
</span><span class="line"><span class="k">print</span> <span class="n">x</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span> <span class="c"># selects 3rd column and every row</span>
</span><span class="line"> <span class="c"># [2, 6, 10, 14]</span>
</span><span class="line">
</span><span class="line"><span class="k">print</span> <span class="n">x</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">flat</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</span><span class="line"> <span class="c"># [0, 4, 8, 12]</span>
</span><span class="line">
</span><span class="line"><span class="k">print</span> <span class="n">x</span><span class="o">.</span><span class="n">flat</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</span><span class="line"> <span class="c"># [0, 1, 2, 3]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>This makes sense because you’d normally use <code>x[0][1]</code> to select the element in
the 1st row and 2nd column. <code>x[0,1]</code> does the same thing but drops the
unnecessary brackets. This is because Python selects the first object with the
first index. Looking at our array, the first object is another array and the
first row.</p>

<p>In MATLAB, indexing is 1-based but perhaps most confusingly <code>array(x,y)</code> is
<code>array[y,x]</code> in Python. MATLAB also has a feature that allows you to select an
element based on the total number of element in an array. This is useful for
the <a href="https://en.wikipedia.org/wiki/Kronecker_product">Kroeneker product</a>. MATLAB stacks the columns when doing this, which
is exactly the method <code>kron</code> relies on.</p>

<p>To emulate <code>kron</code> in Python, you can use <code>kron</code> in Pylab, but to index properly
I use <code>X.T.flat[i]</code>. I could transform <code>X</code> at the start of the script, but then
I’d have to rely on always following the same convention (and rationalize it by
thinking, “I’d rather explicitly use kron”).</p>

<h3 id="dot-product-operator"><code>@</code>: Dot product operator</h3>
<p>In any Python version &lt;= 3.4, there’s no dot
product operator unlike MATLAB’s <code>*</code>. It’s possible to multiply an array
element-wise easily through <code>*</code> in Python (and <code>.*</code> in MATLAB). But coming in
Python 3.5 is a new dot product operator! The choices behind <code>@</code> and the
rational are <a href="http://legacy.python.org/dev/peps/pep-0465/#implementation-details">detailed in this PEP</a>.</p>

<p>Until the scientific community slowly progresses towards Python 3.5, we’ll be
stuck on lowly Python 2.7. Instinct would tell you to call <code>dot(dot(x,y), z)</code>
to perform the dot product of $X \cdot Y \cdot Z$. But instead, you can use
<code>x.dot(y).dot(z)</code>. Much easier and much cleaner.</p>

<h3 id="version-control">Version Control</h3>
<p>This is kind of related to the scientific programming process; it applies to
any file, whether it be in a programming language or not (a good example: 
LaTeX files).</p>

<p>Version control is a great thing. There are <a href="http://stackoverflow.com/a/1408464">many</a> sites
proclaiming how great it is, but mainly you don’t have to make <code>file_v1</code>
through <code>file_vN</code> with version control.</p>

<p>Version control is normally a bit of a pain: you normally have be familiar with the
command line and (with CVS/etc) it can be an even bigger pain. Git (and it’s
brother Github) are considered the easiest to use versioning tool.</p>

<p>They have a GUI to make version control <em>simple</em>. It’s simple to commit changes
and roll back to changes and even branch to work on different features. It’s
available for <a href="https://mac.github.com/">Mac</a>, <a href="https://windows.github.com/">Windows</a> and <a href="http://askubuntu.com/a/227566">many more GUIs</a>
are available.</p>

<p>They even offer <a href="https://education.github.com/">private licenses for users in academia</a>. This
allows you to have up to five free <em>private</em> code repositories online. This
allows for easy collaboration and sharing (another plus: access to 
<a href="https://pages.github.com/">Github Pages</a>). There’s <a href="https://help.github.com/articles/what-are-other-good-resources-for-learning-git-and-github">a list of useful guides</a> to
getting started with Git/Github.</p>

<h3 id="drawnow">drawnow</h3>
<p>(shameless plug) MATLAB has a great feature that allows you to call <code>drawnow</code> to have a figure
update (after calling a series of plot commands). I searched high and low for a
similar syntax in Python. I couldn’t find anything but matplotlib’s animation
frameworks which didn’t jive with the global scope ease I wanted to use. So, I
created <a href="https://github.com/scottsievert/python-drawnow">python-drawnow</a> to add this functionality. It easily allows
you to view the results of an iterative (aka for-loop) process.</p>

<h3 id="conclusion">Conclusion</h3>

<p>As I stressed in the introduction, this guide is not meant to be a full
introduction to Python; there are plenty of other tools to do that.
<a href="https://github.com/jrjohansson/scientific-python-lectures">There</a> <a href="http://scipy-lectures.github.io">are</a> <a href="http://wiki.scipy.org/NumPy_for_Matlab_Users">many</a>
<a href="http://www.scientificpython.net/">other</a> <a href="https://docs.python.org/2/tutorial/introduction.html">tutorials</a> on learning Python. These all cover
the basics: syntax, scope, functions definitions, etc. And of course, the
documentation is also a great place to look (<a href="http://docs.scipy.org/doc/">NumPy</a>,
<a href="http://docs.scipy.org/doc/">SciPy</a>, <a href="http://matplotlib.org/contents.html">matplotlib</a>). Failing that, a
Google/stackoverflow search will likely solve your problem. Perhaps the best
part: if you find a problem in a package and fix it, you can commit your
changes and make it accessible globally!</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Predicting the Weather]]></title>
    <link href="http://scottsievert.github.io/blog/2014/05/14/predicting-the-weather/"/>
    <updated>2014-05-14T10:44:33-05:00</updated>
    <id>http://scottsievert.github.io/blog/2014/05/14/predicting-the-weather</id>
    <content type="html"><![CDATA[<p>Let’s say that we’re accurately measuring the temperature in both Madison and Minneapolis, but then our temperature sensor in Minneapolis breaks. We could easily install a new sensor, but we would prefer to estimate the temperature in Minneapolis based on the temperature in Madison. </p>

<p>First, let’s see the temperature difference between the two cities:</p>

<p>$
\newcommand{\ex}[1]{\mathbb{E}\left[ #1 \right]}
$</p>

<p><img src="https://raw.githubusercontent.com/scottsievert/side-projects/master/predicting_weather/temp_diff.png" alt="Temperature difference" /></p>

<p>Let’s say we’re collecting the data accurately and are free from the effects of noise. So, let’s gather the data. In this, we’re estimating $X$ from $Y$. The mean temperature difference, or in math terms, $\ex{\left|X-Y\right|} = 4.26^\circ$ ($\ex{\cdot}$ is an operator that finds the mean).</p>

<p>We’re going to a linear estimation process. This process only takes in
information data about the current data and nothing about the general trend of
the seasons. This process just says that the temperature in Minneapolis is 80%
of the temp in Madison plus some constant; fairly simple. Regardless, it’s still
pretty good as Madison and Minneapolis are fairly similar for temperature. The
only thing this estimation requires is some past weather data in Minneapolis to
predict the mean $\ex{X}$ and variance $\propto \ex{X^2}$ nothing more.</p>

<p>We want to minimize the <em>energy</em> of the error, using the $l_2$ norm. This
choice may seem arbitrary, and it kind of is. If this data were sparse (aka
lots of zeros), we might want to use the $l_1$ or $l_0$ norms. But if we’re
trying to minimize cost spent, the $l_0$ or $l_1$ norms don’t do as good of a
job minimizing the amount of dollars spent.</p>

<p>But doing the math,</p>

<script type="math/tex; mode=display"> \min \ex{\left(X-(\alpha Y+\beta)\right)^2} = \\\\\min \ex{X^2} +
\alpha^2\ex{X^2} + \beta^2 + 2\alpha\beta\ex{X} - 2\alpha\ex{XY} - 2\beta\ex{X}  </script>

<p>Since this function is concave (or U-shaped) and $\ex{\cdot}$ a linear function, we can minimize it using derivates on each term.</p>

<script type="math/tex; mode=display">\frac{d}{d\alpha} = 0 = -2 \ex{XY} + 2 \alpha\ex{Y^2} + 2\beta \ex{y}</script>

<script type="math/tex; mode=display">\frac{d}{d\beta} = 0 = -2 \ex{X} + 2\beta + 2\alpha\ex{X}</script>

<p>This linear system of equations is described by $Ax = b$ or </p>

<script type="math/tex; mode=display">% &lt;![CDATA[

\begin{bmatrix} \ex{Y^2} & \ex{Y} \\\\ \ex{X} & 1 \end{bmatrix}
\cdot
\begin{bmatrix} \alpha~/~2 \\\\ \beta~/~2  \end{bmatrix}
=
\begin{bmatrix} \ex{XY}\\\\ \ex{X}\end{bmatrix}
 %]]&gt;</script>

<p>Solving this linear system of equations by multiplying $A^{-1}$ gives us</p>

<script type="math/tex; mode=display">\alpha = 0.929\\\\\beta = 3.14 </script>

<p>On average, the temperature in Minneapolis 92.9% of Madison’s, plus 3 degrees.
Let’s see how good our results are using this $\alpha$ and $\beta$. The
temperature difference between the two cities, but predicting one off the other
is shown below:</p>

<p><img src="https://raw.githubusercontent.com/scottsievert/side-projects/master/predicting_weather/pred_diff.png" alt="After prediction" /></p>

<p>That’s <em>exactly</em> what we want! It’s fairly close to the first graph. While
there are areas it’s off, it’s pretty dang close. In fact, on average it’s
within $4.36^\circ$ – fairly close to the original on average temperature
difference of $4.26^\circ$!</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Test Post]]></title>
    <link href="http://scottsievert.github.io/blog/2014/05/14/test-post/"/>
    <updated>2014-05-14T08:52:07-05:00</updated>
    <id>http://scottsievert.github.io/blog/2014/05/14/test-post</id>
    <content type="html"><![CDATA[<h3 id="work">Work!</h3>
<p>A test!</p>

<p>$\exp[j\pi] + 1 = 0$</p>

<blockquote>
  <p>Four score and seven years ago…</p>
</blockquote>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span><span class="line">    <span class="k">if</span> <span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="mi">1</span>
</span><span class="line">    <span class="k">if</span> <span class="n">n</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span> <span class="k">return</span> <span class="mi">1</span>
</span><span class="line">    <span class="k">return</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">n</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
]]></content>
  </entry>
  
</feed>
