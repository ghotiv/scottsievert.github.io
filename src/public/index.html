
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Scott Sievert</title>
  <meta name="author" content="Scott Sievert">

  
  <meta name="description" content="In the scientific community, executing functions in parallel is critical.
Running a function in parallel can mean hours or even days less execution &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://scottsievert.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Scott Sievert" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Noto+Serif:400,700' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

  

</head>

<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Scott Sievert</a></h1>
  
    <h2>Carefully curated musings on math, python and skiing.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  
  
</ul>

<ul class="main-navigation">
  <li><a href="/about/">About</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="https://github.com/scottsievert">Github</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/atom.xml">RSS</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/03/parallel-python/">Parallel Python</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-03T23:29:51-05:00" pubdate data-updated="true">Jun 3<span>rd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In the scientific community, executing functions in parallel is critical.
Running a function in parallel can mean hours or even days less execution time.</p>

<p>Perhaps the biggest barrier to parallelization is that it can be too
complicated to produce. The core of the scientific community, academia, often
doesn’t even use source control meaning that they’re unwilling to invest the
time and energy into something without something to roll back to.</p>

<p>We’ll take a complicated and time-consuming function, a not-so-smart way to
test if a number is prime. We could use much smarter methods such as a <a href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes">Sieve
of Eratosthenes</a> or even some NumPy. But let’s pretend that this is some
much longer and more intensive computation.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="k">def</span> <span class="nf">test_prime</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span><span class="line">    <span class="n">prime</span> <span class="o">=</span> <span class="bp">True</span>
</span><span class="line">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
</span><span class="line">        <span class="k">if</span> <span class="n">n</span><span class="o">/</span><span class="n">i</span> <span class="o">%</span> <span class="mi">1</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span class="line">            <span class="n">prime</span> <span class="o">=</span> <span class="bp">False</span>
</span><span class="line">    <span class="k">return</span> <span class="n">prime</span>
</span><span class="line">
</span><span class="line"><span class="n">serial</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
</span><span class="line"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">arange</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
</span><span class="line">    <span class="n">serial</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">test_prime</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>I don’t want to add another package to Python’s list of parallel toolboxes
(mostly I’m afraid of [competing standards][xkcd]), but let’s define
some functions so we can have a parallel function <em>easily</em><sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>.
<code>some_function.parallel([1,2,3])</code> will execute <code>some_function</code> in parallel with
the inputs <code>[1,2,3]</code>.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="k">def</span> <span class="nf">parallel_attribute</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
</span><span class="line">    <span class="k">def</span> <span class="nf">easy_parallize</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">sequence</span><span class="p">):</span>
</span><span class="line">        <span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Pool</span>
</span><span class="line">        <span class="n">pool</span> <span class="o">=</span> <span class="n">Pool</span><span class="p">(</span><span class="n">processes</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</span><span class="line">        <span class="n">result</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">sequence</span><span class="p">)</span>
</span><span class="line">        <span class="n">cleaned</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">result</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">]</span>
</span><span class="line">        <span class="n">cleaned</span> <span class="o">=</span> <span class="n">asarray</span><span class="p">(</span><span class="n">cleaned</span><span class="p">)</span>
</span><span class="line">        <span class="n">pool</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span class="line">        <span class="n">pool</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</span><span class="line">        <span class="k">return</span> <span class="n">cleaned</span>
</span><span class="line">    <span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
</span><span class="line">    <span class="k">return</span> <span class="n">partial</span><span class="p">(</span><span class="n">easy_parallize</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="n">test_primes</span><span class="o">.</span><span class="n">parallel</span> <span class="o">=</span> <span class="n">parallel_attribute</span><span class="p">(</span><span class="n">test_primes</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>This parallelization is based of <a href="https://medium.com/building-things-on-the-internet/40e9b2b36148">this wonderful Medium article</a>.
Basically, it was relatively easy to develop and works for at least
semi-complex functions that seem prime for the scientific community.</p>

<p>Perhaps the biggest question to ask is about the speedup of this code. Like all
complex subjects, the answer is that it depends. If you are only looping over a
small range of inputs, the overhead of creating a parallelized function is too
high.</p>

<p>More importantly, more cores results in more speedup. Small machines, like this
4-core Macbook Air have parallel results that run twice as fast as serial
results. On an 8-core iMac, it’s about 4 times as fast.</p>

<p>If you’re running code that takes a long time to run and can be run in
parallel, you probably have access to a large supercomputing institute such as
I do. I have access to [MSI][msi], a resource that has supercomputers with up
to XXX cores available. Running this code on those computers, I see parallel
results that run about XXX as fast.</p>

<p>Too often, some promising example is shown that when applied in the real world
fails. To try and combat this, I decided to use a more complicated example,
calculating a <a href="https://en.wikipedia.org/wiki/Mandelbrot_set">Mandelbrot set</a>. This can be natively parallelized using
NumPy, but I decided to simulate some more complex function.</p>

<p>Calculating this Mandelbrot set relies on looping over a two-dimensional grid
(that is, without NumPy support). To parallelize this function, I essentially
only looped over one dimension while parallelizing the other dimension.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="k">def</span> <span class="nf">mandel_p</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span class="line">    <span class="c">#m = zeros((N,N)) # reducing the dimension since called with `x`</span>
</span><span class="line">    <span class="n">m</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">(</span><span class="n">N</span><span class="p">);</span> <span class="n">i</span><span class="o">=-</span><span class="mi">1</span>
</span><span class="line">    <span class="c">#for x in linspace(-2, 1, num=N): # called with `x`</span>
</span><span class="line">    <span class="n">j</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class="line">    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="n">N</span><span class="p">):</span>
</span><span class="line">        <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class="line">        <span class="c">#m[j,i] = mandel_pixel(x, y)</span>
</span><span class="line">        <span class="n">m</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">mandel_pixel</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">    <span class="k">return</span> <span class="n">m</span>
</span><span class="line">
</span><span class="line"><span class="n">mandel_p</span><span class="o">.</span><span class="n">parallel</span> <span class="o">=</span> <span class="n">parallel_attribute</span><span class="p">(</span><span class="n">mandel_p</span><span class="p">)</span>
</span><span class="line"><span class="n">parallel</span> <span class="o">=</span> <span class="n">mandel_p</span><span class="o">.</span><span class="n">parallel</span><span class="p">(</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="n">N</span><span class="p">))</span>
</span><span class="line"><span class="n">parallel</span> <span class="o">=</span> <span class="n">parallel</span><span class="o">.</span><span class="n">T</span> <span class="c"># dunno why</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>I see similar results with this code: about 2x speedup on my 4-core and about a
4x speedup on the 8-core iMac.</p>

<p>To be complete, here’s the complete list of results:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="o">|</span> <span class="n">Function</span>   <span class="o">|</span> <span class="err">$</span><span class="n">N</span><span class="err">$</span> <span class="o">|</span> <span class="n">Serial</span> <span class="n">time</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span> <span class="n">Parallel</span> <span class="n">time</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span> <span class="n">serial</span> <span class="o">/</span> <span class="n">parallel</span> <span class="o">|</span>
</span><span class="line"><span class="o">|</span> <span class="p">:</span><span class="o">-</span><span class="p">:</span>        <span class="o">|</span> <span class="p">:</span><span class="o">-</span><span class="p">:</span> <span class="o">|</span> <span class="p">:</span><span class="o">-</span><span class="p">:</span>             <span class="o">|</span> <span class="p">:</span><span class="o">-</span><span class="p">:</span>               <span class="o">|</span> <span class="p">:</span><span class="o">-</span><span class="p">:</span>               <span class="o">|</span>
</span><span class="line"><span class="o">|</span> <span class="n">Serial</span>     <span class="o">|</span>  <span class="mi">1</span>  <span class="o">|</span>    <span class="mi">1</span>            <span class="o">|</span>     <span class="mi">1</span>             <span class="o">|</span>  <span class="mi">1</span>                <span class="o">|</span>
</span><span class="line"><span class="o">|</span>            <span class="o">|</span>  <span class="mi">1</span>  <span class="o">|</span>    <span class="mi">1</span>            <span class="o">|</span>     <span class="mi">1</span>             <span class="o">|</span>  <span class="mi">1</span>                <span class="o">|</span>
</span><span class="line"><span class="o">|</span> <span class="n">Mandlebrot</span> <span class="o">|</span>  <span class="mi">1</span>  <span class="o">|</span>    <span class="mi">1</span>            <span class="o">|</span>     <span class="mi">1</span>             <span class="o">|</span>  <span class="mi">1</span>                <span class="o">|</span>
</span><span class="line"><span class="o">|</span>            <span class="o">|</span>  <span class="mi">1</span>  <span class="o">|</span>    <span class="mi">1</span>            <span class="o">|</span>     <span class="mi">1</span>             <span class="o">|</span>  <span class="mi">1</span>                <span class="o">|</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Github][source]</p>

<p>[source]:
[msi]:https://www.msi.umn.edu
[view]:http://ipython.org/ipython-doc/dev/parallel/parallel_multiengine.html#creating-a-directview-instance
[xkcd]:http://xkcd.com/927/</p>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>The full source, including function declarations is [available on<a href="#fnref:1" rel="reference">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/27/fourier-transforms-and-optical-lenses/">Fourier Transforms and Optical Lenses</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-27T13:50:25-05:00" pubdate data-updated="true">May 27<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The <a href="https://en.wikipedia.org/wiki/Fourier_transform">Fourier transform</a> and it’s <a href="http://bsp.pdx.edu/Reports/BSP-TR0201.pdf">closely related</a>
cousin the discrete time Fourier transform (computed by the FFT) is a powerful
mathematical concept. It breaks an input signal down into it’s frequency
components. The best example is lifted from Wikipedia.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/05/27/fourier-transforms-and-optical-lenses/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/18/speckle-and-lasers/">Speckle and Lasers</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-18T09:26:40-05:00" pubdate data-updated="true">May 18<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We know that lasers are very accurate instruments and emit a very precise
wavelength and hence are in an array of precision applications including
<a href="https://en.wikipedia.org/wiki/Bloodless_surgery">bloodless surgery</a>, <a href="https://en.wikipedia.org/wiki/Laser_eye_surgery_(disambiguation)">eye surgery</a> and 
<a href="https://en.wikipedia.org/wiki/Fingerprint">fingerprint detection</a>. 
So why do we see random light/dark spots
when we shine a laser on anything? Shouldn’t it all be the same color since
lasers are deterministic (read: not random)?  To answer that question<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>, we
need to delve into optical theory.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/05/18/speckle-and-lasers/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/14/Scientific-Python-tips-and-tricks/">Scientific Python Tips and Tricks</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-14T20:20:24-05:00" pubdate data-updated="true">May 14<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>You want to pick up Python. But it’s hard and confusing to pick up a whole new
framework. You want to try and switch, but it’s too much effort and takes too
much time, so you stick with MATLAB. I essentially grew up on Python, meaning I
can guide you to some solid resources and hand over tips and tricks I’ve
learned.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/05/14/Scientific-Python-tips-and-tricks/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/14/predicting-the-weather/">Predicting the Weather</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-14T09:44:33-06:00" pubdate data-updated="true">Nov 14<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Let’s say that we’re accurately measuring the temperature in both Madison and Minneapolis, but then our temperature sensor in Minneapolis breaks. We could easily install a new sensor, but we would prefer to estimate the temperature in Minneapolis based on the temperature in Madison. </p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/11/14/predicting-the-weather/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
   
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:scottsievert.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/06/03/parallel-python/">Parallel Python</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/27/fourier-transforms-and-optical-lenses/">Fourier Transforms and Optical Lenses</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/18/speckle-and-lasers/">Speckle and Lasers</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/14/Scientific-Python-tips-and-tricks/">Scientific Python Tips and Tricks</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/14/predicting-the-weather/">Predicting the Weather</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/scottsievert">@scottsievert</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'scottsievert',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Scott Sievert -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<!--scott: commented out to remove sticky header-->
<!--<script>-->
  <!--$(document).ready(function() {  -->
  <!--var stickyNavTop = $('nav').offset().top;  -->
    
  <!--var stickyNav = function(){  -->
  <!--var scrollTop = $(window).scrollTop();  -->
         
  <!--if (scrollTop > stickyNavTop) {   -->
      <!--$('nav').addClass('sticky');  -->
  <!--} else {  -->
      <!--$('nav').removeClass('sticky');   -->
  <!--}  -->
  <!--};  -->
    
  <!--stickyNav();  -->
    
  <!--$(window).scroll(function() {  -->
      <!--stickyNav();  -->
  <!--});  -->
  <!--});  -->
<!--</script>-->


</body>
</html>
